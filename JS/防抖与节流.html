<!DOCTYPE html>
<html lang="en">
    <head>
        <title></title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
    </head>
    <body>
        <input type="text" id="search" oninput="count()">
        <div id="content" style="height:150px;line-height: 150px;text-align: center;border: 1px solid black"></div>
        <script>
            let num = 1;
            let content = document.getElementById('content');

            function count(n=1){
                num +=n;
                console.log(1)
                content.innerHTML = num;
            }

            content.onmousemove = debounce(count,1000);

            //防抖
            function debounce(fun,delay){
                let timeId = null;
                console.log(timeId)
                return function(){
                    // console.log(this)
                    clearTimeout(timeId);
                    timeId = setTimeout(() => {
                        fun.apply(this);
                        console.log('this:'+ this)
                    }, delay);
                }
            }

            //节流
            function throttle(fun,delay){
                let lastTime = 0;
                return function(){
                    let nowTime = Date.now();
                    if(nowTime-lastTime>delay){
                        fun();
                        lastTime = nowTime;
                    }
                }
            }

        </script>
        
    </body>
</html>